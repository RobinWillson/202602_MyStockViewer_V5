# C80A0A1B(200.10.10.27) - RR_RealReportMerge (彙整的即時回報資料)

## 1. 基本資訊 (Metadata)
- **Service ID**: `C80A0A1B(200.10.10.27)`
- **COM Name**: `RR_RealReportMerge`
- **設計描述**: 彙整的即時回報資料
- **通訊模式**: `SB/SP`
- **更新日期**: 2020/01/10

---

## 2. 請求結構 (Request Specification)

### JSON 結構範例
```json
{
  "ParentStruct_In": {
    "uintCount": 1
  },
  "ChildStruct_In": [
    {
      "abyKey": "example"
    }
  ]
}
```

### 參數說明 (Parameter Details)

- `ParentStruct_In` : 輸入的母結構 (Object)
  - `uintCount` : 筆數 (Uint, Size: 4)

- `ChildStruct \_In` : 輸入的子結構 (Array of Objects)
  - `abyKey` : 鍵值 (TByte22, Size: 22)
    - *說明*: # 同Output的abyAccount

---

## 3. 回傳結構 (Response Specification)

### JSON 結構範例
```json
{
  "ParentStruct_Out": {
    "abyAccount": "example",
    "bytRptFlag": "example",
    "abyOrderNo": "example",
    "byMarketNo": "example",
    "abyCompanyNo": "example",
    "struOrderDate": "",
    "struOrderTime": "",
    "abyOrderType": "example",
    "abyBS": "example",
    "abyOrderPrice": "example",
    "abyTouchPrice": "example",
    "abyLastDealPrice": "example",
    "abyAvgDealPrice": "example",
    "intBeforeQty": 0,
    "intOrderQty": 0,
    "intOkQty": 0,
    "abyOpenOffsetKind": "example",
    "abyDayTrade": "example",
    "abyOrderCond": "example",
    "abyOrderErrorNo": "example",
    "byAPCode": "example",
    "shtOrderStatus": 0,
    "byLastOrderStatus": "example",
    "abyCompanyName": "example",
    "abyTradeCode": "example",
    "dwStrikePrice": 0,
    "abyBasketNo32": "example",
    "byStkType1": "example",
    "byStkType2": "example",
    "byBelongMarketNo": "example",
    "abyBelongStkCode": "example",
    "pricetype": "example",
    "abyStkErrCode": "example"
  }
}
```

### 參數說明 (Parameter Details)

  - `abyAccount` : 帳號 (TByte, Size: 22)
  - `bytRptFlag` : 回報標記 (byte, Size: 1)
    - `1`: 股票
    - `2`: 期貨
    - `3`: 選擇權
    - `4`: 海外期貨
    - `5`: 海外股票
  - `abyOrderNo` : 委託單號 (TByte20, Size: 20)
  - `byMarketNo` : 市場代碼 (Byte, Size: 1)
  - `abyCompanyNo` : 商品代碼 (TByte20, Size: 20)
    - *說明*: 2854, 05311
    - *說明*: FITX 200709,
    - *說明*: URO200709,  FIGTL7/C8,
    - *說明*: TXO09000T7,
    - *說明*: TXO08000/08100U7
  - `struOrderDate` : 交易日 (TYuantaDate, Size: 4)
  - `struOrderTime` : 委託時間 (TYuantaTime, Size: 5)
  - `abyOrderType` : 委託種類 (Tbyte3, Size: 3)
    - *說明*: 現貨
    - `0`: 普通  1,3:資  2,4:券  5,6:借券(賣出)
    - *說明*: 期權
    - `1`: 市價
    - `2`: 限價
    - `3`: 範圍市價
    - *說明*: 海外期
    - `LMT`: 限價單
    - `MKT`: 市價單
    - `STP`: 停損單
    - `SWL`: 停損限價單
    - `CXL`: 取消單  海外股票
    - `1`: Market
    - `2`: Limit 限價單
  - `abyBS` : 買賣別 (TByte, Size: 1)
    - `S`: 賣
    - `B`: 買
  - `abyOrderPrice` : 委託價 (TByte14, Size: 14)
    - *說明*: Ex. 23.50,1.0585  0000125'23.5(海外期)
  - `abyTouchPrice` : 停損執行價 (TByte14, Size: 14)
  - `abyLastDealPrice` : 最後成交價 (TByte14, Size: 14)
    - *說明*: Ex. 23.50,1.0585  0000125'23.5(海外期)
  - `abyAvgDealPrice` : 平均成交價 (TByte14, Size: 14)
    - *說明*: Ex. 23.50,1.0585  0000125'23.5(海外期)
  - `intBeforeQty` : 改量前數量 (Int, Size: 4)
  - `intOrderQty` : 委託股數 (Int, Size: 4)
    - *說明*: 股數/口數  (有效數量含成交)
  - `intOkQty` : 成交股數 (Int, Size: 4)
    - *說明*: 股數/口數
  - `abyOpenOffsetKind` : 新增/沖銷別 (TByte, Size: 1)
    - *說明*: 期
    - `0`: 新增
    - `1`: 沖銷
    - `2`: 新倉且當日沖銷單
    - *說明*: 權
    - `0`: 新增
    - `1`: 沖銷  海外股票 (SettleType)
    - `0`: 外幣
    - `1`: 台幣
  - `abyDayTrade` : 當沖記號 (TByte, Size: 1)
    - *說明*: 證券：\' \' OR \'X\'  期權：\' \' OR \'Y\'
  - `abyOrderCond` : 委託條件 (TByte, Size: 1)
    - *說明*: 證券
    - `3`: IOC
    - `4`: FOK
    - `0`: ROD  期權
    - `F`: FOK
    - `I`: IOC
    - `R`: ROD
    - *說明*: 海外期
    - `0`: DAY
    - `2`: IOC
    - `1`: FOK
    - `N`: 非GTC單  海外股票
    - `0`: DAY
    - `3`: IOC
    - `4`: FOK
  - `abyOrderErrorNo` : 錯誤碼 (TByte4, Size: 4)
    - *說明*: P201
  - `byAPCode` : 委託類別 (byte, Size: 1)
    - `0`: 現股
    - `2`: 零股
    - `4`: 盤中零股
    - `7`: 盤後
    - `99`: 興櫃
  - `shtOrderStatus` : 狀態碼 (short, Size: 2)
    - `0`: 傳輸中
    - `5`: 預約單
    - `10`: 委託失敗
    - `20`: 委託成功
    - `24`: 委託失效
    - `25`: 價穩失效
    - `30`: 取消
  - `byLastOrderStatus` : 最新一筆即回資料狀態 (Byte, Size: 1)
    - `0`: 委託成功
    - `1`: 委託失敗
    - `2`: 取消成功
    - `3`: 取消失敗
    - `4`: 減量成功
    - `5`: 減量失敗
    - `6`: 查詢成功
    - `7`: 查詢失敗
    - `8`: 已成交
    - `10`: 組合成功
    - `11`: 拆解成功
    - `12`: 平轉新
    - `13`: 新轉平
    - `18`: 委託收到
    - `19`: 取消收到
    - `20`: 改價成功
    - `21`: 改價失敗
    - `23`: 取消成交
    - `24`: 委託失效
    - `25`: 價穩失效
  - `abyCompanyName` : 股票名稱 (TByte20, Size: 20)
    - *說明*: 此欄位代表股票名稱;但是在期貨價差的CASE下,此欄位代表第二個商品的tradecode
  - `abyTradeCode` : 實體交易代號 (TByte20, Size: 20)
    - *說明*: 當期貨價差時,此欄位代表第一個商品的tradecode
  - `dwStrikePrice` : 履約價 (Uint, Size: 4)
    - *說明*: 前端除10000
  - `abyBasketNo32` : 一籃子下單編號 (TByte32, Size: 32)
  - `byStkType1` : 屬性1 (Byte, Size: 1)
    - *說明*: Bit
    - `1`: 管理商品  Bit
    - `2`: 交易記號  Bit
    - `3`: 受益憑證  Bit
    - `4`: ETF商品  Bit
    - `5`: 權證記號  Bit
    - `6`: 特別股  Bit
    - `7`: 存託憑證  Bit
    - `8`: 外國股票
  - `byStkType2` : 屬性2 (Byte, Size: 1)
    - *說明*: Bit
    - `1`: 可轉換公司債  Bit
    - `2`: 附認股權公司債  Bit
    - `3`: 警示股  Bit
    - `4`: 指數記號  Bit
    - `5`: 期貨  Bit
    - `6`: 個股選擇權  Bit
    - `7`: 指數選擇權  Bit
    - `8`: 保留
  - `byBelongMarketNo` : 所屬市場代碼 (Byte, Size: 1)
  - `abyBelongStkCode` : 所屬股票代碼 (TByte12, Size: 12)
  - `pricetype` : 價格型態 (TByte, Size: 1)
    - *說明*: 只有證券使用
    - `1`: 市價
    - `2`: 限價
    - `H`: 漲停
    - `L`: 跌停
    - `-`: 平盤
  - `abyStkErrCode` : 證券回報錯誤碼 (TByte5, Size: 5)
    - *說明*: 證券回報錯誤碼

---
